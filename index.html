<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>FPC-Presort Time Series Dashboard</title>
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GSC6Y5FXNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-GSC6Y5FXNY');
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a2e; 
            color: #eee; 
            padding: 20px;
        }
        h1 { text-align: center; color: #00d4aa; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #888; margin-bottom: 20px; }
        .updated { text-align: center; color: #666; font-size: 12px; margin-bottom: 30px; }
        
        .charts-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            max-width: 1800px;
            margin: 0 auto;
        }
        .chart-container { 
            background: #16213e; 
            border-radius: 12px; 
            padding: 20px;
            min-height: 300px;
        }
        .chart-container.full-width { grid-column: 1 / -1; }
        .chart-container h3 { color: #00d4aa; margin-bottom: 15px; font-size: 16px; }
        
        .order-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
            padding: 15px;
            background: #16213e;
            border-radius: 12px;
        }
        .order-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        .order-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        
        canvas { max-height: 250px; }
    </style>
</head>
<body>
    <h1>ğŸ“Š FPC-Presort Time Series</h1>
    <p class="subtitle">Last 24 Hours â€” All Metrics</p>
    <p class="updated" id="lastUpdate"></p>
    
    <div class="order-legend" id="orderLegend"></div>
    
    <div class="charts-grid">
        <div class="chart-container">
            <h3>ğŸ­ Bins Per Hour</h3>
            <canvas id="binsPerHourChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>âš–ï¸ Avg Bin Weight (lbs)</h3>
            <canvas id="avgWeightChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸ“¦ Bins Consumed</h3>
            <canvas id="binsConsumedChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>âœ… Full %</h3>
            <canvas id="fullPctChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸŸ¢ Grade: Full %</h3>
            <canvas id="gradeFullChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸ“¤ Grade: Export %</h3>
            <canvas id="gradeExportChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸ‹ Grade: Light Green %</h3>
            <canvas id="gradeLightGreenChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>âš ï¸ Grade: Choice %</h3>
            <canvas id="gradeChoiceChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸ§ƒ Grade: Juice %</h3>
            <canvas id="gradeJuiceChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸŒ¿ Grade: Green %</h3>
            <canvas id="gradeGreenChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸ©¹ Grade: Scar %</h3>
            <canvas id="gradeScarChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸ«’ Grade: Dark Oleo %</h3>
            <canvas id="gradeDarkOleoChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸŒ¡ï¸ Brix High %</h3>
            <canvas id="brixHighChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸŒ¡ï¸ Brix Mid %</h3>
            <canvas id="brixMidChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸŒ¡ï¸ Brix Low %</h3>
            <canvas id="brixLowChart"></canvas>
        </div>
        <div class="chart-container">
            <h3>ğŸ”´ Defects (Choice + Scar + Juice + Dark Oleo) %</h3>
            <canvas id="defectsChart"></canvas>
        </div>
        <div class="chart-container full-width">
            <h3>ğŸ“ Size Distribution (Large / Medium / Small)</h3>
            <canvas id="sizeChart"></canvas>
        </div>
    </div>

    <script>
        // Data will be injected here
        const DATA = [{"timestamp":"2026-02-02 10:07:30","prod_order":"PROD49606","variety":"Kitahara-Tango","bins_per_hour":178,"avg_bin_weight":936.0,"bins_consumed":640,"bins_received":0,"full_pct":86,"grade_full":57,"grade_export":9,"grade_light_green":15,"grade_choice":4,"grade_juice":0,"grade_green":4,"grade_long_stem":0,"grade_scar":6,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":10,"size_21":27,"size_24":41,"size_28":14,"size_32":3,"size_36":0,"size_40":0,"size_44":0},
{"timestamp":"2026-02-02 10:12:31","prod_order":"PROD49606","variety":"Kitahara-Tango","bins_per_hour":177,"avg_bin_weight":936.0,"bins_consumed":651,"bins_received":0,"full_pct":86,"grade_full":57,"grade_export":9,"grade_light_green":14,"grade_choice":4,"grade_juice":0,"grade_green":4,"grade_long_stem":0,"grade_scar":6,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":9,"size_21":27,"size_24":41,"size_28":14,"size_32":4,"size_36":1,"size_40":0,"size_44":0},
{"timestamp":"2026-02-02 10:17:32","prod_order":"PROD49606","variety":"Kitahara-Tango","bins_per_hour":178,"avg_bin_weight":936.0,"bins_consumed":667,"bins_received":0,"full_pct":86,"grade_full":58,"grade_export":9,"grade_light_green":14,"grade_choice":4,"grade_juice":0,"grade_green":4,"grade_long_stem":0,"grade_scar":6,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":9,"size_21":26,"size_24":39,"size_28":15,"size_32":6,"size_36":2,"size_40":0,"size_44":0},
{"timestamp":"2026-02-02 10:22:31","prod_order":"PROD49606","variety":"Kitahara-Tango","bins_per_hour":179,"avg_bin_weight":937.0,"bins_consumed":686,"bins_received":0,"full_pct":86,"grade_full":58,"grade_export":9,"grade_light_green":14,"grade_choice":4,"grade_juice":0,"grade_green":4,"grade_long_stem":0,"grade_scar":6,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":9,"size_21":25,"size_24":38,"size_28":15,"size_32":7,"size_36":2,"size_40":1,"size_44":0},
{"timestamp":"2026-02-02 10:27:33","prod_order":"PROD49606","variety":"Kitahara-Tango","bins_per_hour":177,"avg_bin_weight":944.0,"bins_consumed":696,"bins_received":0,"full_pct":86,"grade_full":58,"grade_export":10,"grade_light_green":13,"grade_choice":4,"grade_juice":0,"grade_green":4,"grade_long_stem":0,"grade_scar":6,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":8,"size_21":24,"size_24":37,"size_28":15,"size_32":8,"size_36":3,"size_40":1,"size_44":0},
{"timestamp":"2026-02-02 10:37:30","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":213,"avg_bin_weight":1122.0,"bins_consumed":32,"bins_received":0,"full_pct":91,"grade_full":74,"grade_export":15,"grade_light_green":2,"grade_choice":1,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":6,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":2,"size_28":25,"size_32":50,"size_36":20,"size_40":3,"size_44":0},
{"timestamp":"2026-02-02 10:42:30","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":204,"avg_bin_weight":1109.0,"bins_consumed":47,"bins_received":0,"full_pct":91,"grade_full":71,"grade_export":18,"grade_light_green":2,"grade_choice":1,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":20,"size_32":39,"size_36":22,"size_40":15,"size_44":0},
{"timestamp":"2026-02-02 10:47:31","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":191,"avg_bin_weight":1145.0,"bins_consumed":61,"bins_received":0,"full_pct":91,"grade_full":71,"grade_export":18,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":21,"size_32":42,"size_36":21,"size_40":12,"size_44":0},
{"timestamp":"2026-02-02 10:52:29","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":181,"avg_bin_weight":1178.0,"bins_consumed":76,"bins_received":0,"full_pct":91,"grade_full":73,"grade_export":15,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":23,"size_32":43,"size_36":21,"size_40":9,"size_44":0},
{"timestamp":"2026-02-02 10:57:31","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":188,"avg_bin_weight":1165.0,"bins_consumed":94,"bins_received":0,"full_pct":91,"grade_full":70,"grade_export":19,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":23,"size_32":46,"size_36":21,"size_40":8,"size_44":0},
{"timestamp":"2026-02-02 11:02:31","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":186,"avg_bin_weight":1185.0,"bins_consumed":106,"bins_received":0,"full_pct":91,"grade_full":71,"grade_export":18,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":23,"size_32":48,"size_36":19,"size_40":6,"size_44":0},
{"timestamp":"2026-02-02 11:07:29","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":192,"avg_bin_weight":1178.0,"bins_consumed":125,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":17,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":49,"size_36":18,"size_40":6,"size_44":0},
{"timestamp":"2026-02-02 11:12:29","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":193,"avg_bin_weight":1189.0,"bins_consumed":141,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":50,"size_36":18,"size_40":5,"size_44":0},
{"timestamp":"2026-02-02 11:17:35","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":194,"avg_bin_weight":1170.0,"bins_consumed":159,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":51,"size_36":17,"size_40":5,"size_44":0},
{"timestamp":"2026-02-02 11:22:29","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":191,"avg_bin_weight":1151.0,"bins_consumed":176,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":52,"size_36":16,"size_40":4,"size_44":0},
{"timestamp":"2026-02-02 11:27:34","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":193,"avg_bin_weight":1123.0,"bins_consumed":193,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":53,"size_36":16,"size_40":4,"size_44":0},
{"timestamp":"2026-02-02 11:32:29","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":193,"avg_bin_weight":1117.0,"bins_consumed":207,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":53,"size_36":16,"size_40":4,"size_44":0},
{"timestamp":"2026-02-02 11:37:30","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":194,"avg_bin_weight":1108.0,"bins_consumed":223,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":54,"size_36":15,"size_40":3,"size_44":0},
{"timestamp":"2026-02-02 11:42:29","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":195,"avg_bin_weight":1118.0,"bins_consumed":240,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":54,"size_36":15,"size_40":3,"size_44":0},
{"timestamp":"2026-02-02 11:47:31","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":193,"avg_bin_weight":1108.0,"bins_consumed":257,"bins_received":0,"full_pct":91,"grade_full":73,"grade_export":15,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":55,"size_36":15,"size_40":3,"size_44":0},
{"timestamp":"2026-02-02 11:52:29","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":194,"avg_bin_weight":1117.0,"bins_consumed":275,"bins_received":0,"full_pct":91,"grade_full":73,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":55,"size_36":14,"size_40":3,"size_44":0},
{"timestamp":"2026-02-02 11:57:31","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":195,"avg_bin_weight":1107.0,"bins_consumed":289,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":55,"size_36":14,"size_40":3,"size_44":0},
{"timestamp":"2026-02-02 12:02:29","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":194,"avg_bin_weight":1104.0,"bins_consumed":305,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":55,"size_36":14,"size_40":3,"size_44":0},
{"timestamp":"2026-02-02 12:07:30","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":196,"avg_bin_weight":1107.0,"bins_consumed":323,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":56,"size_36":14,"size_40":2,"size_44":0},
{"timestamp":"2026-02-02 12:12:29","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":197,"avg_bin_weight":1103.0,"bins_consumed":340,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":56,"size_36":14,"size_40":2,"size_44":0},
{"timestamp":"2026-02-02 12:17:31","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":196,"avg_bin_weight":1104.0,"bins_consumed":359,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":56,"size_36":14,"size_40":2,"size_44":0},
{"timestamp":"2026-02-02 12:22:29","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":196,"avg_bin_weight":1113.0,"bins_consumed":372,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":56,"size_36":14,"size_40":2,"size_44":0},
{"timestamp":"2026-02-02 12:27:31","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":195,"avg_bin_weight":1112.0,"bins_consumed":387,"bins_received":0,"full_pct":91,"grade_full":72,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":24,"size_32":55,"size_36":15,"size_40":3,"size_44":0},
{"timestamp":"2026-02-02 12:32:29","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":194,"avg_bin_weight":1124.0,"bins_consumed":402,"bins_received":0,"full_pct":91,"grade_full":73,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":22,"size_32":53,"size_36":17,"size_40":4,"size_44":0},
{"timestamp":"2026-02-02 12:37:59","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":193,"avg_bin_weight":1135.0,"bins_consumed":416,"bins_received":0,"full_pct":91,"grade_full":73,"grade_export":16,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":21,"size_32":51,"size_36":19,"size_40":6,"size_44":0},
{"timestamp":"2026-02-02 12:42:54","prod_order":"PROD49609","variety":"Unknown","bins_per_hour":190,"avg_bin_weight":1144.0,"bins_consumed":428,"bins_received":0,"full_pct":91,"grade_full":73,"grade_export":15,"grade_light_green":2,"grade_choice":2,"grade_juice":0,"grade_green":0,"grade_long_stem":0,"grade_scar":5,"grade_dark_oleo":null,"brix_high":0,"brix_mid":0,"brix_low":0,"size_18":0,"size_21":0,"size_24":3,"size_28":21,"size_32":49,"size_36":20,"size_40":7,"size_44":0},
{"timestamp":"2026-02-03 05:32:57","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":108,"avg_bin_weight":931.0,"bins_consumed":13,"bins_received":238,"full_pct":31,"grade_full":23,"grade_export":null,"grade_light_green":null,"grade_choice":23,"grade_juice":null,"grade_green":8,"grade_long_stem":8,"grade_scar":null,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":null,"size_21":null,"size_24":null,"size_28":null,"size_32":2,"size_36":null,"size_40":6,"size_44":37},
{"timestamp":"2026-02-03 05:37:33","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":70,"avg_bin_weight":932.0,"bins_consumed":14,"bins_received":238,"full_pct":29,"grade_full":23,"grade_export":null,"grade_light_green":null,"grade_choice":23,"grade_juice":null,"grade_green":8,"grade_long_stem":8,"grade_scar":null,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":null,"size_21":null,"size_24":null,"size_28":null,"size_32":2,"size_36":1,"size_40":5,"size_44":27},
{"timestamp":"2026-02-03 06:02:37","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":40,"avg_bin_weight":939.0,"bins_consumed":25,"bins_received":238,"full_pct":55,"grade_full":33,"grade_export":12,"grade_light_green":8,"grade_choice":18,"grade_juice":4,"grade_green":2,"grade_long_stem":2,"grade_scar":null,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":2,"size_21":10,"size_24":25,"size_28":19,"size_32":24,"size_36":7,"size_40":8,"size_44":2},
{"timestamp":"2026-02-03 06:07:37","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":60,"avg_bin_weight":939.0,"bins_consumed":43,"bins_received":238,"full_pct":57,"grade_full":34,"grade_export":11,"grade_light_green":10,"grade_choice":19,"grade_juice":3,"grade_green":2,"grade_long_stem":2,"grade_scar":null,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":2,"size_21":11,"size_24":21,"size_28":21,"size_32":25,"size_36":10,"size_40":9,"size_44":null},
{"timestamp":"2026-02-03 06:12:36","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":74,"avg_bin_weight":938.0,"bins_consumed":59,"bins_received":238,"full_pct":58,"grade_full":34,"grade_export":11,"grade_light_green":10,"grade_choice":19,"grade_juice":3,"grade_green":2,"grade_long_stem":2,"grade_scar":null,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":3,"size_21":12,"size_24":19,"size_28":21,"size_32":23,"size_36":10,"size_40":9,"size_44":null},
{"timestamp":"2026-02-03 06:17:37","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":83,"avg_bin_weight":938.0,"bins_consumed":72,"bins_received":238,"full_pct":58,"grade_full":34,"grade_export":12,"grade_light_green":11,"grade_choice":19,"grade_juice":3,"grade_green":2,"grade_long_stem":2,"grade_scar":null,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":3,"size_21":13,"size_24":19,"size_28":22,"size_32":23,"size_36":10,"size_40":9,"size_44":null},
{"timestamp":"2026-02-03 06:22:39","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":88,"avg_bin_weight":940.0,"bins_consumed":84,"bins_received":238,"full_pct":58,"grade_full":34,"grade_export":12,"grade_light_green":11,"grade_choice":19,"grade_juice":2,"grade_green":2,"grade_long_stem":2,"grade_scar":null,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":3,"size_21":13,"size_24":19,"size_28":22,"size_32":22,"size_36":10,"size_40":9,"size_44":null},
{"timestamp":"2026-02-03 06:27:45","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":95,"avg_bin_weight":941.0,"bins_consumed":98,"bins_received":238,"full_pct":58,"grade_full":33,"grade_export":12,"grade_light_green":10,"grade_choice":19,"grade_juice":3,"grade_green":2,"grade_long_stem":2,"grade_scar":null,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":4,"size_21":14,"size_24":19,"size_28":22,"size_32":22,"size_36":10,"size_40":9,"size_44":null},
{"timestamp":"2026-02-03 06:32:48","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":96,"avg_bin_weight":941.0,"bins_consumed":109,"bins_received":238,"full_pct":59,"grade_full":33,"grade_export":13,"grade_light_green":10,"grade_choice":19,"grade_juice":3,"grade_green":2,"grade_long_stem":3,"grade_scar":null,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":4,"size_21":14,"size_24":19,"size_28":22,"size_32":21,"size_36":10,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 06:37:42","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":98,"avg_bin_weight":942.0,"bins_consumed":119,"bins_received":238,"full_pct":59,"grade_full":33,"grade_export":13,"grade_light_green":10,"grade_choice":19,"grade_juice":3,"grade_green":2,"grade_long_stem":3,"grade_scar":null,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":4,"size_21":15,"size_24":19,"size_28":22,"size_32":21,"size_36":10,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 06:42:41","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":99,"avg_bin_weight":942.0,"bins_consumed":127,"bins_received":238,"full_pct":59,"grade_full":33,"grade_export":13,"grade_light_green":10,"grade_choice":18,"grade_juice":3,"grade_green":2,"grade_long_stem":3,"grade_scar":null,"grade_dark_oleo":null,"brix_high":47,"brix_mid":20,"brix_low":33,"size_18":4,"size_21":15,"size_24":19,"size_28":22,"size_32":21,"size_36":9,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 06:47:42","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":97,"avg_bin_weight":942.0,"bins_consumed":133,"bins_received":238,"full_pct":59,"grade_full":33,"grade_export":14,"grade_light_green":10,"grade_choice":18,"grade_juice":3,"grade_green":2,"grade_long_stem":3,"grade_scar":null,"grade_dark_oleo":null,"brix_high":74,"brix_mid":11,"brix_low":15,"size_18":4,"size_21":15,"size_24":19,"size_28":22,"size_32":21,"size_36":9,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 06:52:40","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":99,"avg_bin_weight":943.0,"bins_consumed":143,"bins_received":238,"full_pct":59,"grade_full":33,"grade_export":14,"grade_light_green":10,"grade_choice":18,"grade_juice":3,"grade_green":2,"grade_long_stem":3,"grade_scar":null,"grade_dark_oleo":null,"brix_high":75,"brix_mid":9,"brix_low":16,"size_18":4,"size_21":15,"size_24":19,"size_28":22,"size_32":21,"size_36":9,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 06:58:05","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":100,"avg_bin_weight":949.0,"bins_consumed":155,"bins_received":238,"full_pct":59,"grade_full":34,"grade_export":14,"grade_light_green":10,"grade_choice":18,"grade_juice":3,"grade_green":2,"grade_long_stem":3,"grade_scar":null,"grade_dark_oleo":null,"brix_high":79,"brix_mid":9,"brix_low":12,"size_18":4,"size_21":15,"size_24":19,"size_28":22,"size_32":21,"size_36":9,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 07:02:42","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":103,"avg_bin_weight":948.0,"bins_consumed":168,"bins_received":238,"full_pct":59,"grade_full":34,"grade_export":14,"grade_light_green":9,"grade_choice":18,"grade_juice":3,"grade_green":2,"grade_long_stem":3,"grade_scar":null,"grade_dark_oleo":null,"brix_high":79,"brix_mid":10,"brix_low":11,"size_18":4,"size_21":15,"size_24":19,"size_28":22,"size_32":21,"size_36":9,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 07:07:50","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":109,"avg_bin_weight":949.0,"bins_consumed":185,"bins_received":238,"full_pct":58,"grade_full":34,"grade_export":14,"grade_light_green":9,"grade_choice":18,"grade_juice":3,"grade_green":2,"grade_long_stem":3,"grade_scar":null,"grade_dark_oleo":null,"brix_high":84,"brix_mid":10,"brix_low":6,"size_18":4,"size_21":15,"size_24":19,"size_28":23,"size_32":21,"size_36":9,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 07:12:50","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":115,"avg_bin_weight":948.0,"bins_consumed":204,"bins_received":238,"full_pct":58,"grade_full":33,"grade_export":14,"grade_light_green":9,"grade_choice":18,"grade_juice":3,"grade_green":2,"grade_long_stem":4,"grade_scar":null,"grade_dark_oleo":null,"brix_high":86,"brix_mid":8,"brix_low":5,"size_18":4,"size_21":15,"size_24":19,"size_28":23,"size_32":21,"size_36":9,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 07:17:45","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":119,"avg_bin_weight":947.0,"bins_consumed":224,"bins_received":238,"full_pct":58,"grade_full":33,"grade_export":13,"grade_light_green":9,"grade_choice":18,"grade_juice":3,"grade_green":2,"grade_long_stem":4,"grade_scar":null,"grade_dark_oleo":null,"brix_high":85,"brix_mid":10,"brix_low":5,"size_18":4,"size_21":15,"size_24":19,"size_28":23,"size_32":21,"size_36":9,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 07:22:47","prod_order":"PROD49634","variety":"Spitzer - Murcott","bins_per_hour":120,"avg_bin_weight":947.0,"bins_consumed":236,"bins_received":238,"full_pct":57,"grade_full":33,"grade_export":13,"grade_light_green":9,"grade_choice":18,"grade_juice":3,"grade_green":2,"grade_long_stem":4,"grade_scar":null,"grade_dark_oleo":null,"brix_high":83,"brix_mid":12,"brix_low":5,"size_18":4,"size_21":15,"size_24":19,"size_28":22,"size_32":21,"size_36":9,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 07:27:41","prod_order":"PROD49635","variety":"Orange Cove - Tango","bins_per_hour":230,"avg_bin_weight":911.0,"bins_consumed":23,"bins_received":62,"full_pct":78,"grade_full":46,"grade_export":22,"grade_light_green":10,"grade_choice":8,"grade_juice":2,"grade_green":2,"grade_long_stem":7,"grade_scar":1,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":1,"size_21":6,"size_24":23,"size_28":27,"size_32":25,"size_36":7,"size_40":10,"size_44":null},
{"timestamp":"2026-02-03 07:32:46","prod_order":"PROD49635","variety":"Orange Cove - Tango","bins_per_hour":235,"avg_bin_weight":908.0,"bins_consumed":40,"bins_received":62,"full_pct":84,"grade_full":44,"grade_export":25,"grade_light_green":14,"grade_choice":7,"grade_juice":1,"grade_green":1,"grade_long_stem":4,"grade_scar":1,"grade_dark_oleo":null,"brix_high":89,"brix_mid":9,"brix_low":3,"size_18":3,"size_21":11,"size_24":20,"size_28":24,"size_32":24,"size_36":10,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 07:57:55","prod_order":"PROD49648","variety":"Lincoln-Murcott","bins_per_hour":246,"avg_bin_weight":989.0,"bins_consumed":69,"bins_received":109,"full_pct":91,"grade_full":43,"grade_export":29,"grade_light_green":17,"grade_choice":5,"grade_juice":null,"grade_green":2,"grade_long_stem":null,"grade_scar":null,"grade_dark_oleo":null,"brix_high":86,"brix_mid":12,"brix_low":3,"size_18":5,"size_21":17,"size_24":26,"size_28":23,"size_32":17,"size_36":6,"size_40":4,"size_44":null},
{"timestamp":"2026-02-03 08:02:48","prod_order":"PROD49648","variety":"Lincoln-Murcott","bins_per_hour":241,"avg_bin_weight":985.0,"bins_consumed":89,"bins_received":109,"full_pct":91,"grade_full":43,"grade_export":29,"grade_light_green":16,"grade_choice":5,"grade_juice":null,"grade_green":2,"grade_long_stem":null,"grade_scar":null,"grade_dark_oleo":null,"brix_high":88,"brix_mid":10,"brix_low":2,"size_18":5,"size_21":17,"size_24":25,"size_28":23,"size_32":18,"size_36":6,"size_40":4,"size_44":null},
{"timestamp":"2026-02-03 08:07:41","prod_order":"PROD49648","variety":"Lincoln-Murcott","bins_per_hour":232,"avg_bin_weight":983.0,"bins_consumed":109,"bins_received":109,"full_pct":91,"grade_full":43,"grade_export":30,"grade_light_green":15,"grade_choice":5,"grade_juice":null,"grade_green":2,"grade_long_stem":null,"grade_scar":null,"grade_dark_oleo":null,"brix_high":88,"brix_mid":10,"brix_low":2,"size_18":5,"size_21":16,"size_24":25,"size_28":24,"size_32":19,"size_36":7,"size_40":5,"size_44":null},
{"timestamp":"2026-02-03 08:12:42","prod_order":"PROD49651","variety":"California 55 - Murcott","bins_per_hour":229,"avg_bin_weight":978.0,"bins_consumed":16,"bins_received":100,"full_pct":76,"grade_full":30,"grade_export":47,"grade_light_green":1,"grade_choice":7,"grade_juice":10,"grade_green":null,"grade_long_stem":1,"grade_scar":1,"grade_dark_oleo":null,"brix_high":null,"brix_mid":null,"brix_low":null,"size_18":1,"size_21":9,"size_24":17,"size_28":34,"size_32":26,"size_36":1,"size_40":8,"size_44":null},
{"timestamp":"2026-02-03 08:17:41","prod_order":"PROD49651","variety":"California 55 - Murcott","bins_per_hour":262,"avg_bin_weight":977.0,"bins_consumed":34,"bins_received":100,"full_pct":88,"grade_full":47,"grade_export":28,"grade_light_green":12,"grade_choice":8,"grade_juice":1,"grade_green":null,"grade_long_stem":null,"grade_scar":1,"grade_dark_oleo":null,"brix_high":87,"brix_mid":11,"brix_low":2,"size_18":1,"size_21":7,"size_24":17,"size_28":25,"size_32":27,"size_36":13,"size_40":10,"size_44":null},
{"timestamp":"2026-02-03 08:22:42","prod_order":"PROD49651","variety":"California 55 - Murcott","bins_per_hour":241,"avg_bin_weight":974.0,"bins_consumed":53,"bins_received":100,"full_pct":87,"grade_full":47,"grade_export":27,"grade_light_green":12,"grade_choice":8,"grade_juice":1,"grade_green":null,"grade_long_stem":null,"grade_scar":1,"grade_dark_oleo":null,"brix_high":86,"brix_mid":11,"brix_low":3,"size_18":1,"size_21":7,"size_24":17,"size_28":24,"size_32":26,"size_36":13,"size_40":11,"size_44":null},
{"timestamp":"2026-02-03 08:27:41","prod_order":"PROD49651","variety":"California 55 - Murcott","bins_per_hour":247,"avg_bin_weight":972.0,"bins_consumed":74,"bins_received":100,"full_pct":86,"grade_full":47,"grade_export":27,"grade_light_green":11,"grade_choice":9,"grade_juice":1,"grade_green":null,"grade_long_stem":null,"grade_scar":2,"grade_dark_oleo":null,"brix_high":85,"brix_mid":12,"brix_low":3,"size_18":1,"size_21":7,"size_24":17,"size_28":24,"size_32":26,"size_36":13,"size_40":11,"size_44":null},
{"timestamp":"2026-02-03 08:32:41","prod_order":"PROD49651","variety":"California 55 - Murcott","bins_per_hour":233,"avg_bin_weight":974.0,"bins_consumed":93,"bins_received":100,"full_pct":85,"grade_full":47,"grade_export":26,"grade_light_green":11,"grade_choice":9,"grade_juice":1,"grade_green":null,"grade_long_stem":null,"grade_scar":2,"grade_dark_oleo":null,"brix_high":84,"brix_mid":12,"brix_low":4,"size_18":2,"size_21":8,"size_24":18,"size_28":24,"size_32":26,"size_36":13,"size_40":10,"size_44":null},
{"timestamp":"2026-02-03 08:37:42","prod_order":"PROD49651","variety":"California 55 - Murcott","bins_per_hour":208,"avg_bin_weight":974.0,"bins_consumed":100,"bins_received":100,"full_pct":80,"grade_full":47,"grade_export":26,"grade_light_green":10,"grade_choice":10,"grade_juice":1,"grade_green":null,"grade_long_stem":null,"grade_scar":3,"grade_dark_oleo":null,"brix_high":84,"brix_mid":13,"brix_low":4,"size_18":2,"size_21":8,"size_24":18,"size_28":24,"size_32":26,"size_36":12,"size_40":9,"size_44":null},
{"timestamp":"2026-02-03 08:42:40","prod_order":"PROD49652","variety":"Miramontes-Tango","bins_per_hour":175,"avg_bin_weight":927.0,"bins_consumed":21,"bins_received":36,"full_pct":89,"grade_full":43,"grade_export":36,"grade_light_green":10,"grade_choice":6,"grade_juice":null,"grade_green":2,"grade_long_stem":1,"grade_scar":2,"grade_dark_oleo":null,"brix_high":72,"brix_mid":16,"brix_low":12,"size_18":4,"size_21":15,"size_24":25,"size_28":25,"size_32":19,"size_36":7,"size_40":4,"size_44":null},
{"timestamp":"2026-02-03 08:47:41","prod_order":"PROD49652","variety":"Miramontes-Tango","bins_per_hour":170,"avg_bin_weight":930.0,"bins_consumed":34,"bins_received":36,"full_pct":88,"grade_full":45,"grade_export":33,"grade_light_green":11,"grade_choice":7,"grade_juice":null,"grade_green":null,"grade_long_stem":1,"grade_scar":2,"grade_dark_oleo":null,"brix_high":87,"brix_mid":10,"brix_low":3,"size_18":5,"size_21":17,"size_24":25,"size_28":23,"size_32":18,"size_36":6,"size_40":4,"size_44":null},
{"timestamp":"2026-02-03 08:52:44","prod_order":"PROD49653","variety":"Cuyler - Tango","bins_per_hour":230,"avg_bin_weight":926.0,"bins_consumed":23,"bins_received":128,"full_pct":76,"grade_full":45,"grade_export":23,"grade_light_green":7,"grade_choice":14,"grade_juice":1,"grade_green":null,"grade_long_stem":2,"grade_scar":4,"grade_dark_oleo":null,"brix_high":82,"brix_mid":13,"brix_low":4,"size_18":5,"size_21":15,"size_24":25,"size_28":22,"size_32":21,"size_36":7,"size_40":4,"size_44":null},
{"timestamp":"2026-02-03 08:57:41","prod_order":"PROD49653","variety":"Cuyler - Tango","bins_per_hour":239,"avg_bin_weight":930.0,"bins_consumed":43,"bins_received":128,"full_pct":81,"grade_full":48,"grade_export":21,"grade_light_green":10,"grade_choice":11,"grade_juice":1,"grade_green":null,"grade_long_stem":2,"grade_scar":4,"grade_dark_oleo":null,"brix_high":80,"brix_mid":16,"brix_low":5,"size_18":5,"size_21":16,"size_24":24,"size_28":22,"size_32":19,"size_36":7,"size_40":5,"size_44":null},
{"timestamp":"2026-02-03 09:02:42","prod_order":"PROD49653","variety":"Cuyler - Tango","bins_per_hour":237,"avg_bin_weight":932.0,"bins_consumed":64,"bins_received":128,"full_pct":84,"grade_full":48,"grade_export":25,"grade_light_green":10,"grade_choice":9,"grade_juice":null,"grade_green":null,"grade_long_stem":2,"grade_scar":3,"grade_dark_oleo":null,"brix_high":80,"brix_mid":15,"brix_low":4,"size_18":5,"size_21":16,"size_24":23,"size_28":22,"size_32":20,"size_36":7,"size_40":5,"size_44":null},
{"timestamp":"2026-02-03 09:07:43","prod_order":"PROD49653","variety":"Cuyler - Tango","bins_per_hour":239,"avg_bin_weight":932.0,"bins_consumed":79,"bins_received":128,"full_pct":85,"grade_full":48,"grade_export":25,"grade_light_green":11,"grade_choice":8,"grade_juice":null,"grade_green":null,"grade_long_stem":2,"grade_scar":2,"grade_dark_oleo":null,"brix_high":79,"brix_mid":16,"brix_low":5,"size_18":5,"size_21":15,"size_24":23,"size_28":23,"size_32":20,"size_36":7,"size_40":5,"size_44":null},
{"timestamp":"2026-02-03 09:12:42","prod_order":"PROD49653","variety":"Cuyler - Tango","bins_per_hour":238,"avg_bin_weight":932.0,"bins_consumed":100,"bins_received":128,"full_pct":86,"grade_full":49,"grade_export":25,"grade_light_green":11,"grade_choice":8,"grade_juice":null,"grade_green":1,"grade_long_stem":1,"grade_scar":2,"grade_dark_oleo":null,"brix_high":79,"brix_mid":16,"brix_low":5,"size_18":5,"size_21":16,"size_24":24,"size_28":23,"size_32":19,"size_36":7,"size_40":5,"size_44":null},
{"timestamp":"2026-02-03 09:17:42","prod_order":"PROD49653","variety":"Cuyler - Tango","bins_per_hour":229,"avg_bin_weight":933.0,"bins_consumed":119,"bins_received":128,"full_pct":86,"grade_full":49,"grade_export":25,"grade_light_green":12,"grade_choice":8,"grade_juice":null,"grade_green":1,"grade_long_stem":2,"grade_scar":2,"grade_dark_oleo":null,"brix_high":80,"brix_mid":15,"brix_low":5,"size_18":5,"size_21":16,"size_24":24,"size_28":23,"size_32":19,"size_36":7,"size_40":5,"size_44":null},
{"timestamp":"2026-02-03 09:22:42","prod_order":"PROD49653","variety":"Cuyler - Tango","bins_per_hour":212,"avg_bin_weight":933.0,"bins_consumed":127,"bins_received":128,"full_pct":86,"grade_full":49,"grade_export":25,"grade_light_green":12,"grade_choice":7,"grade_juice":null,"grade_green":1,"grade_long_stem":2,"grade_scar":2,"grade_dark_oleo":null,"brix_high":79,"brix_mid":16,"brix_low":5,"size_18":5,"size_21":16,"size_24":24,"size_28":23,"size_32":18,"size_36":7,"size_40":5,"size_44":null},
{"timestamp":"2026-02-03 09:27:42","prod_order":"PROD49654","variety":"Jason Langstraat - Jefferson Ranch","bins_per_hour":208,"avg_bin_weight":922.0,"bins_consumed":25,"bins_received":25,"full_pct":84,"grade_full":48,"grade_export":19,"grade_light_green":16,"grade_choice":4,"grade_juice":3,"grade_green":2,"grade_long_stem":3,"grade_scar":null,"grade_dark_oleo":null,"brix_high":91,"brix_mid":7,"brix_low":2,"size_18":8,"size_21":25,"size_24":26,"size_28":18,"size_32":14,"size_36":3,"size_40":2,"size_44":null},
{"timestamp":"2026-02-03 09:33:14","prod_order":"PROD49655","variety":"Whitesbridge - Murcott","bins_per_hour":238,"avg_bin_weight":1029.0,"bins_consumed":19,"bins_received":184,"full_pct":86,"grade_full":45,"grade_export":34,"grade_light_green":6,"grade_choice":7,"grade_juice":2,"grade_green":null,"grade_long_stem":2,"grade_scar":1,"grade_dark_oleo":null,"brix_high":93,"brix_mid":6,"brix_low":1,"size_18":8,"size_21":23,"size_24":26,"size_28":18,"size_32":15,"size_36":4,"size_40":3,"size_44":null},
{"timestamp":"2026-02-03 09:38:15","prod_order":"PROD49655","variety":"Whitesbridge - Murcott","bins_per_hour":241,"avg_bin_weight":997.0,"bins_consumed":41,"bins_received":184,"full_pct":87,"grade_full":43,"grade_export":36,"grade_light_green":7,"grade_choice":6,"grade_juice":1,"grade_green":null,"grade_long_stem":2,"grade_scar":1,"grade_dark_oleo":null,"brix_high":88,"brix_mid":10,"brix_low":2,"size_18":6,"size_21":22,"size_24":26,"size_28":20,"size_32":14,"size_36":5,"size_40":3,"size_44":null},
{"timestamp":"2026-02-03 09:43:11","prod_order":"PROD49655","variety":"Whitesbridge - Murcott","bins_per_hour":228,"avg_bin_weight":992.0,"bins_consumed":57,"bins_received":184,"full_pct":88,"grade_full":42,"grade_export":38,"grade_light_green":7,"grade_choice":6,"grade_juice":1,"grade_green":null,"grade_long_stem":2,"grade_scar":1,"grade_dark_oleo":null,"brix_high":86,"brix_mid":11,"brix_low":3,"size_18":9,"size_21":20,"size_24":26,"size_28":21,"size_32":14,"size_36":4,"size_40":3,"size_44":null},
{"timestamp":"2026-02-03 09:48:12","prod_order":"PROD49655","variety":"Whitesbridge - Murcott","bins_per_hour":212,"avg_bin_weight":1005.0,"bins_consumed":70,"bins_received":184,"full_pct":88,"grade_full":43,"grade_export":38,"grade_light_green":7,"grade_choice":6,"grade_juice":1,"grade_green":null,"grade_long_stem":2,"grade_scar":1,"grade_dark_oleo":null,"brix_high":85,"brix_mid":12,"brix_low":3,"size_18":9,"size_21":22,"size_24":25,"size_28":20,"size_32":13,"size_36":4,"size_40":2,"size_44":null},
{"timestamp":"2026-02-03 09:53:12","prod_order":"PROD49655","variety":"Whitesbridge - Murcott","bins_per_hour":217,"avg_bin_weight":1000.0,"bins_consumed":91,"bins_received":184,"full_pct":89,"grade_full":42,"grade_export":38,"grade_light_green":7,"grade_choice":5,"grade_juice":1,"grade_green":null,"grade_long_stem":2,"grade_scar":1,"grade_dark_oleo":null,"brix_high":83,"brix_mid":13,"brix_low":3,"size_18":9,"size_21":22,"size_24":25,"size_28":19,"size_32":13,"size_36":4,"size_40":3,"size_44":null},
{"timestamp":"2026-02-03 09:58:12","prod_order":"PROD49655","variety":"Whitesbridge - Murcott","bins_per_hour":218,"avg_bin_weight":998.0,"bins_consumed":109,"bins_received":184,"full_pct":89,"grade_full":41,"grade_export":39,"grade_light_green":7,"grade_choice":5,"grade_juice":1,"grade_green":null,"grade_long_stem":2,"grade_scar":1,"grade_dark_oleo":null,"brix_high":83,"brix_mid":13,"brix_low":4,"size_18":9,"size_21":21,"size_24":24,"size_28":20,"size_32":13,"size_36":4,"size_40":3,"size_44":null},
{"timestamp":"2026-02-03 10:03:12","prod_order":"PROD49655","variety":"Whitesbridge - Murcott","bins_per_hour":218,"avg_bin_weight":994.0,"bins_consumed":124,"bins_received":184,"full_pct":89,"grade_full":41,"grade_export":39,"grade_light_green":7,"grade_choice":5,"grade_juice":1,"grade_green":null,"grade_long_stem":2,"grade_scar":1,"grade_dark_oleo":null,"brix_high":84,"brix_mid":13,"brix_low":3,"size_18":9,"size_21":21,"size_24":24,"size_28":20,"size_32":13,"size_36":4,"size_40":3,"size_44":null}]
;
        
        // Order colors
        const orderColors = {};
        const colorPalette = [
            '#00d4aa', '#ff6b6b', '#4ecdc4', '#ffe66d', '#95e1d3',
            '#f38181', '#aa96da', '#fcbad3', '#a8d8ea', '#ff9a3c'
        ];
        let colorIndex = 0;
        
        // Get unique orders and assign colors
        const orders = [...new Set(DATA.map(d => d.prod_order))];
        orders.forEach(order => {
            orderColors[order] = colorPalette[colorIndex % colorPalette.length];
            colorIndex++;
        });
        
        // Build legend
        const legendHtml = orders.map(order => {
            const variety = DATA.find(d => d.prod_order === order)?.variety || order;
            return `<div class="order-item">
                <div class="order-color" style="background: ${orderColors[order]}"></div>
                <span>${order}: ${variety}</span>
            </div>`;
        }).join('');
        document.getElementById('orderLegend').innerHTML = legendHtml;
        
        // Update timestamp
        if (DATA.length > 0) {
            document.getElementById('lastUpdate').textContent = 
                `Last update: ${DATA[DATA.length - 1].timestamp} | ${DATA.length} data points`;
        }
        
        // Chart defaults
        Chart.defaults.color = '#888';
        Chart.defaults.borderColor = '#333';
        
        const chartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            interaction: { intersect: false, mode: 'index' },
            plugins: {
                legend: { display: false },
                tooltip: {
                    callbacks: {
                        title: (items) => {
                            const d = DATA[items[0].dataIndex];
                            return `${d.timestamp}\n${d.prod_order}: ${d.variety}`;
                        }
                    }
                }
            },
            scales: {
                x: {
                    type: 'category',
                    ticks: { 
                        maxTicksLimit: 12,
                        callback: function(val, idx) {
                            const ts = DATA[idx]?.timestamp || '';
                            return ts.split(' ')[1]?.substring(0, 5) || '';
                        }
                    },
                    grid: { display: false }
                },
                y: {
                    beginAtZero: false,
                    grid: { color: '#333' }
                }
            }
        };
        
        function createChart(canvasId, label, dataKey, color = '#00d4aa', threshold = null) {
            const ctx = document.getElementById(canvasId).getContext('2d');
            const values = DATA.map(d => d[dataKey]);
            const colors = DATA.map(d => orderColors[d.prod_order] || color);
            
            const datasets = [{
                label: label,
                data: values,
                borderColor: colors,
                backgroundColor: colors.map(c => c + '40'),
                borderWidth: 2,
                pointRadius: 1,
                tension: 0.3,
                segment: {
                    borderColor: ctx => {
                        const p0Order = DATA[ctx.p0DataIndex]?.prod_order;
                        const p1Order = DATA[ctx.p1DataIndex]?.prod_order;
                        if (p0Order !== p1Order) return 'transparent';
                        return orderColors[p0Order] || color;
                    }
                }
            }];
            
            if (threshold !== null) {
                datasets.push({
                    label: 'Threshold',
                    data: Array(DATA.length).fill(threshold),
                    borderColor: '#ff6b6b',
                    borderWidth: 2,
                    borderDash: [5, 5],
                    pointRadius: 0,
                    fill: false
                });
            }
            
            new Chart(ctx, {
                type: 'line',
                data: { labels: DATA.map(d => d.timestamp), datasets },
                options: chartOptions
            });
        }
        
        // Create all charts
        createChart('binsPerHourChart', 'Bins/Hr', 'bins_per_hour');
        createChart('avgWeightChart', 'Weight', 'avg_bin_weight');
        createChart('binsConsumedChart', 'Consumed', 'bins_consumed');
        createChart('fullPctChart', 'Full %', 'full_pct');
        createChart('gradeFullChart', 'Full', 'grade_full');
        createChart('gradeExportChart', 'Export', 'grade_export');
        createChart('gradeLightGreenChart', 'Light Green', 'grade_light_green');
        createChart('gradeChoiceChart', 'Choice', 'grade_choice', '#ffe66d', 12);
        createChart('gradeJuiceChart', 'Juice', 'grade_juice');
        createChart('gradeGreenChart', 'Green', 'grade_green');
        createChart('gradeScarChart', 'Scar', 'grade_scar');
        createChart('gradeDarkOleoChart', 'Dark Oleo', 'grade_dark_oleo');
        createChart('brixHighChart', 'High', 'brix_high');
        createChart('brixMidChart', 'Mid', 'brix_mid');
        createChart('brixLowChart', 'Low', 'brix_low');
        
        // Defects chart (Choice + Scar + Juice + Dark Oleo)
        const defectsCtx = document.getElementById('defectsChart').getContext('2d');
        const defectValues = DATA.map(d => (d.grade_choice || 0) + (d.grade_scar || 0) + (d.grade_juice || 0) + (d.grade_dark_oleo || 0));
        new Chart(defectsCtx, {
            type: 'line',
            data: {
                labels: DATA.map(d => d.timestamp),
                datasets: [
                    {
                        label: 'Defects',
                        data: defectValues,
                        borderColor: DATA.map(d => orderColors[d.prod_order]),
                        borderWidth: 2,
                        pointRadius: 1,
                        tension: 0.3,
                        fill: false,
                        segment: {
                            borderColor: ctx => {
                                const p0Order = DATA[ctx.p0DataIndex]?.prod_order;
                                const p1Order = DATA[ctx.p1DataIndex]?.prod_order;
                                if (p0Order !== p1Order) return 'transparent';
                                return orderColors[p0Order];
                            }
                        }
                    },
                    {
                        label: 'Alert Threshold',
                        data: Array(DATA.length).fill(12),
                        borderColor: '#ff6b6b',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        pointRadius: 0,
                        fill: false
                    }
                ]
            },
            options: chartOptions
        });
        
        // Size distribution stacked area chart (grouped: Large, Medium, Small)
        const sizeCtx = document.getElementById('sizeChart').getContext('2d');
        const sizeGroups = [
            { label: 'Large (18+21)', calc: d => (d.size_18 || 0) + (d.size_21 || 0), color: '#00d4aa' },
            { label: 'Medium (24+28+32)', calc: d => (d.size_24 || 0) + (d.size_28 || 0) + (d.size_32 || 0), color: '#ffe66d' },
            { label: 'Small (36+40+44)', calc: d => (d.size_36 || 0) + (d.size_40 || 0) + (d.size_44 || 0), color: '#ff6b6b' }
        ];
        new Chart(sizeCtx, {
            type: 'line',
            data: {
                labels: DATA.map(d => d.timestamp),
                datasets: sizeGroups.map(group => ({
                    label: group.label,
                    data: DATA.map(d => group.calc(d)),
                    borderColor: group.color,
                    backgroundColor: group.color + '60',
                    borderWidth: 2,
                    pointRadius: 0,
                    fill: true,
                    segment: {
                        borderColor: ctx => {
                            const p0Order = DATA[ctx.p0DataIndex]?.prod_order;
                            const p1Order = DATA[ctx.p1DataIndex]?.prod_order;
                            if (p0Order !== p1Order) return 'transparent';
                            return group.color;
                        }
                    }
                }))
            },
            options: {
                ...chartOptions,
                plugins: {
                    ...chartOptions.plugins,
                    legend: { display: true, position: 'top' }
                },
                scales: {
                    ...chartOptions.scales,
                    y: { stacked: true, max: 100 }
                }
            }
        });
    </script>
</body>
</html>
